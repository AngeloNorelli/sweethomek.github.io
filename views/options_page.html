<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Opcje</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"
    />

    <link rel="stylesheet" href="../styles/options_page.css" />
  </head>
  <body>
    <script src="../scripts/options_page.js"></script>

    <div class="options-container">
      <!-- Wlaczenie powiadomien-->
      <div class="left-container">
        <div class="notify-container">
          <h3>Włącz Powiadomienia</h3>
          <div class="toggle-switch">
            <label class="switch">
              <input type="checkbox" />
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="content-form">
          <!-- Formularz "Kontakt ze Serwisem " -->
          <form id="contactForm" style="margin-bottom: 20px">
            <h2>Kontakt Z Serwisem</h2>
            <label for="description">Opis sytuacji:</label>
            <textarea
              id="description"
              name="description"
              rows="4"
              cols="50"
              style="resize: none;"
              wrap="soft" 
              required 
            ></textarea>

            <label for="appointment">Wybierz termin:</label>
            <input type="datetime-local" id="appointment" name="appointment" required />

            <input
              type="button"
              value="Wyślij zgłoszenie"
              onclick="submitForm()"
            />
          </form>

          <!-- Div notify do wyświetlenia komunikatu po wysłaniu formularza -->
          <div
            id="notify"
            style="
              display: none;
              background-color: #4caf50;
              color: white;
              padding: 15px;
              position: fixed;
              bottom: 0;
              right: 0;
            "
          >
            Dane Pomyslnie Wprowadzone
          </div>

          <div id="displayAdditionalFormData">
          </div>
        </div>
      </div>
      <div class="subscription-section">
        <div class="notify-container-right">
          <h3>Subskrypcja</h3>
        </div>
        <div class="subscription-plans">
          <div class="subscription-plan" data-duration="30">
            <label class="switch">
              <input
                type="checkbox"
                name="plan1"
                onclick="handleSubscriptionPlan(this)"
              />
              <span class="slider"></span>
            </label>
            Plan 1 - 30 dni
          </div>
          <div class="subscription-plan" data-duration="60">
            <label class="switch">
              <input
                type="checkbox"
                name="plan2"
                onclick="handleSubscriptionPlan(this)"
              />
              <span class="slider"></span>
            </label>
            Plan 2 - 60 dni
          </div>
          <div class="subscription-plan" data-duration="90">
            <label class="switch">
              <input
                type="checkbox"
                name="plan3"
                onclick="handleSubscriptionPlan(this)"
              />
              <span class="slider"></span>
            </label>
            Plan 3 - 90 dni
          </div>
        </div>

        <div class="active-plan">
          Aktywny plan: <span id="active-plan">Brak</span>
        </div>

        <div class="days-left">
          Dni do wygaśnięcia: <span id="days-left">0</span>
        </div>


        <div class="card-button">
          <button onclick="openPaymentModal()">Dodaj Kartę Płatniczą</button>
        </div>  
        <div id="paymentModal" class="modal">
          <div class="modal-content">
            <span class="close" onclick="closePaymentModal()">&times;</span>
            <label for="cardNumber">Numer Karty:</label>
            <input type="text" id="cardNumber" name="cardNumber" required>

            <label for="expiryDate">Data Ważności:</label>
            <input type="text" id="expiryDate" name="expiryDate" required>

            <label for="cvv">CVV:</label>
            <input type="text" id="cvv" name="cvv" required>

            <button onclick="savePaymentDetails()">Zapisz</button>
          </div>
        </div>
        <div class="additional-form-container">
          <button onclick="toggleAdditionalForm()">Infromacje o twoim domu</button>
          <div id="additionalFormContainer" style="display: none;">
            <form id="additionalForm" onsubmit="submitAdditionalForm(event)">
              <label for="homeName">Nazwa Domu:</label>
              <input type="text" id="homeName" name="homeName" required maxlength="100" /><br />
        
              <label for="homeAddress">Adres Domu:</label>
              <input type="text" id="homeAddress" name="homeAddress" required maxlength="200" /><br />
        
              <label for="phoneNumber">Numer Telefonu:</label>
              <input type="tel" id="phoneNumber" name="phoneNumber" required /><br />
        
              <input type="submit" value="Dodaj Dom" />
            </form>
          </div>
        </div>
      </div>
    </div>

  </body>
</html>
